var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var k=0;k<e.length-1;k++){var m=e[k];if(!(m in d))return;d=d[m]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};
$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||
e}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};$jscomp.polyfill("Reflect",function(a){return a?a:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(a){return $jscomp.construct},"es6","es3");
$jscomp.polyfill("Reflect.setPrototypeOf",function(a){if(a)return a;if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;return function(c,d){try{return b(c,d),!0}catch(e){return!1}}}return null},"es6","es5");$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;
$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(e,k){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:k})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(e){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+c++,e)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var f=Object.seal({}),h=Object.seal({}),l=new a([[f,2],[h,3]]);if(2!=l.get(f)||3!=l.get(h))return!1;l.delete(f);l.set(h,4);return!l.has(f)&&4==l.get(h)}catch(n){return!1}}function c(){}function d(f){var h=typeof f;return"object"===h&&null!==f||"function"===h}function e(f){if(!$jscomp.owns(f,m)){var h=new c;$jscomp.defineProperty(f,m,{value:h})}}function k(f){if(!$jscomp.ISOLATE_POLYFILLS){var h=Object[f];h&&(Object[f]=
function(l){if(l instanceof c)return l;Object.isExtensible(l)&&e(l);return h(l)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var m="$jscomp_hidden_"+Math.random();k("freeze");k("preventExtensions");k("seal");var p=0,g=function(f){this.id_=(p+=Math.random()+1).toString();if(f){f=$jscomp.makeIterator(f);for(var h;!(h=f.next()).done;)h=h.value,this.set(h[0],h[1])}};g.prototype.set=function(f,h){if(!d(f))throw Error("Invalid WeakMap key");
e(f);if(!$jscomp.owns(f,m))throw Error("WeakMap key fail: "+f);f[m][this.id_]=h;return this};g.prototype.get=function(f){return d(f)&&$jscomp.owns(f,m)?f[m][this.id_]:void 0};g.prototype.has=function(f){return d(f)&&$jscomp.owns(f,m)&&$jscomp.owns(f[m],this.id_)};g.prototype.delete=function(f){return d(f)&&$jscomp.owns(f,m)&&$jscomp.owns(f[m],this.id_)?delete f[m][this.id_]:!1};return g},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var g=Object.seal({x:4}),f=new a($jscomp.makeIterator([[g,"s"]]));if("s"!=f.get(g)||1!=f.size||f.get({x:4})||f.set({x:4},"t")!=f||2!=f.size)return!1;var h=f.entries(),l=h.next();if(l.done||l.value[0]!=g||"s"!=l.value[1])return!1;l=h.next();return l.done||4!=l.value[0].x||"t"!=l.value[1]||!h.next().done?!1:!0}catch(n){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var c=new WeakMap,d=function(g){this.data_={};this.head_=m();this.size=0;if(g){g=$jscomp.makeIterator(g);for(var f;!(f=g.next()).done;)f=f.value,this.set(f[0],f[1])}};d.prototype.set=function(g,f){g=0===g?0:g;var h=e(this,g);h.list||(h.list=this.data_[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:g,value:f},h.list.push(h.entry),
this.head_.previous.next=h.entry,this.head_.previous=h.entry,this.size++);return this};d.prototype.delete=function(g){g=e(this,g);return g.entry&&g.list?(g.list.splice(g.index,1),g.list.length||delete this.data_[g.id],g.entry.previous.next=g.entry.next,g.entry.next.previous=g.entry.previous,g.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=m();this.size=0};d.prototype.has=function(g){return!!e(this,g).entry};d.prototype.get=function(g){return(g=
e(this,g).entry)&&g.value};d.prototype.entries=function(){return k(this,function(g){return[g.key,g.value]})};d.prototype.keys=function(){return k(this,function(g){return g.key})};d.prototype.values=function(){return k(this,function(g){return g.value})};d.prototype.forEach=function(g,f){for(var h=this.entries(),l;!(l=h.next()).done;)l=l.value,g.call(f,l[1],l[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(g,f){var h=f&&typeof f;"object"==h||"function"==h?c.has(f)?h=c.get(f):
(h=""+ ++p,c.set(f,h)):h="p_"+f;var l=g.data_[h];if(l&&$jscomp.owns(g.data_,h))for(g=0;g<l.length;g++){var n=l[g];if(f!==f&&n.key!==n.key||f===n.key)return{id:h,list:l,index:g,entry:n}}return{id:h,list:l,index:-1,entry:void 0}},k=function(g,f){var h=g.head_;return $jscomp.iteratorPrototype(function(){if(h){for(;h.head!=g.head_;)h=h.previous;for(;h.next!=h.head;)return h=h.next,{done:!1,value:f(h)};h=null}return{done:!0,value:void 0}})},m=function(){var g={};return g.previous=g.next=g.head=g},p=0;
return d},"es6","es3");var AssetManager$$module$src$core$AssetManager=function(a){this.engine=a;this.textures=new Map},module$src$core$AssetManager={};module$src$core$AssetManager.default=AssetManager$$module$src$core$AssetManager;var CanvasRenderer$$module$src$core$CanvasRenderer=function(a,b,c){this.engine=a;this.width=b;this.height=c;this.container=window.document.createElement("div");this.container.id="game-container";this.container.style.display="flex";this.container.style.justifyItems="center";this.container.style.alignItems="center";this.container.style.width="100%";this.container.style.height="100%";window.document.body.appendChild(this.container);this.canvas=window.document.createElement("canvas");this.canvas.style.backgroundColor=
"white";this.canvas.width=this.width;this.canvas.height=this.height;this.canvas.style.display="block";this.canvas.style.margin="auto";this.context=this.canvas.getContext("2d");this.container.appendChild(this.canvas)};CanvasRenderer$$module$src$core$CanvasRenderer.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};var module$src$core$CanvasRenderer={};module$src$core$CanvasRenderer.default=CanvasRenderer$$module$src$core$CanvasRenderer;var SceneManager$$module$src$core$SceneManager=function(a){this.engine=a;this.scenes=[]};SceneManager$$module$src$core$SceneManager.prototype.add=function(a){-1==this.scenes.indexOf(a)&&this.scenes.push(a)};SceneManager$$module$src$core$SceneManager.prototype.remove=function(a){a.destroy()};SceneManager$$module$src$core$SceneManager.prototype.update=function(a){for(var b=0;b<this.scenes.length;b++){var c=this.scenes[b];c.destroyed||c.update(a);c.destroyed&&(this.scenes.splice(b,1),b--)}};
SceneManager$$module$src$core$SceneManager.prototype.render=function(a){this.scenes.forEach(function(b){b.destroyed||b.render(a)})};var module$src$core$SceneManager={};module$src$core$SceneManager.default=SceneManager$$module$src$core$SceneManager;var TimeManager$$module$src$core$TimeManager=function(a,b){var c=this;this.engine=a;this.lastStep=null;this.targetFps=b;this.deltaTime=1/this.targetFps;window.requestAnimationFrame(function(d){return c.step(d)})};TimeManager$$module$src$core$TimeManager.prototype.step=function(a){var b=this;if(null!=this.lastStep){var c=(a-this.lastStep)/1E3;c>1/this.targetFps&&(this.deltaTime=c,this.engine.loop(),this.lastStep=a)}else this.lastStep=a;window.requestAnimationFrame(function(d){return b.step(d)})};
var module$src$core$TimeManager={};module$src$core$TimeManager.default=TimeManager$$module$src$core$TimeManager;var Vector2$$module$src$core$math$Vector2=function(a,b){this.x=a;this.y=b};Vector2$$module$src$core$math$Vector2.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y};Vector2$$module$src$core$math$Vector2.prototype.clone=function(){return new Vector2$$module$src$core$math$Vector2(this.x,this.y)};$jscomp.global.Object.defineProperties(Vector2$$module$src$core$math$Vector2.prototype,{length:{configurable:!0,enumerable:!0,get:function(){return Math.sqrt(Math.abs(this.x*this.x+this.y*this.y))}}});
var module$src$core$math$Vector2={};module$src$core$math$Vector2.default=Vector2$$module$src$core$math$Vector2;var EventDispatcher$$module$src$core$events$EventDispatcher=function(){this.listeners=[]};EventDispatcher$$module$src$core$events$EventDispatcher.prototype.addEventListener=function(a,b,c){this.listeners.push(new EventListener$$module$src$core$events$EventDispatcher(a,b,void 0===c?null:c))};
EventDispatcher$$module$src$core$events$EventDispatcher.prototype.removeEventListener=function(a,b,c){c=void 0===c?null:c;for(var d=0;d<this.listeners.length;d++){var e=this.listeners[d];e.event==a&&e.callback==b&&e.callbackContext==c&&(this.listeners.splice(d,1),d--)}};EventDispatcher$$module$src$core$events$EventDispatcher.prototype.removeAllEventListeners=function(){this.listeners=[]};
EventDispatcher$$module$src$core$events$EventDispatcher.prototype.dispatchEvent=function(a,b){for(var c=0;c<this.listeners.length;c++){var d=this.listeners[c];d.event==a&&d.callback.bind(d.callbackContext)(b)}};var EventListener$$module$src$core$events$EventDispatcher=function(a,b,c){this.event=a;this.callback=b;this.callbackContext=c},module$src$core$events$EventDispatcher={};module$src$core$events$EventDispatcher.default=EventDispatcher$$module$src$core$events$EventDispatcher;var MouseEvent$$module$src$core$input$Mouse=function(){};$jscomp.global.Object.defineProperties(MouseEvent$$module$src$core$input$Mouse,{MOUSE_DOWN:{configurable:!0,enumerable:!0,get:function(){return"mouseDown"}},MOUSE_MOVE:{configurable:!0,enumerable:!0,get:function(){return"mouseMove"}},MOUSE_UP:{configurable:!0,enumerable:!0,get:function(){return"mouseUp"}}});
var Mouse$$module$src$core$input$Mouse=function(a){this.manager=a;this.isDown=!1;this.position=new Vector2$$module$src$core$math$Vector2(0,0);this.events=new EventDispatcher$$module$src$core$events$EventDispatcher;this.manager.engine.renderer.canvas.addEventListener("mousedown",this.onMouseDown.bind(this));this.manager.engine.renderer.canvas.addEventListener("mousemove",this.onMouseMove.bind(this));this.manager.engine.renderer.canvas.addEventListener("mouseup",this.onMouseUp.bind(this));this.manager.engine.renderer.container.addEventListener("mouseup",
this.onMouseUp.bind(this))};Mouse$$module$src$core$input$Mouse.prototype.onMouseDown=function(a){this.isDown=!0;this.position.x=a.offsetX;this.position.y=a.offsetY;this.events.dispatchEvent(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.position.clone())};Mouse$$module$src$core$input$Mouse.prototype.onMouseMove=function(a){this.position.x=a.offsetX;this.position.y=a.offsetY;this.events.dispatchEvent(MouseEvent$$module$src$core$input$Mouse.MOUSE_MOVE,this.position.clone())};
Mouse$$module$src$core$input$Mouse.prototype.onMouseUp=function(a){this.isDown=!1;this.events.dispatchEvent(MouseEvent$$module$src$core$input$Mouse.MOUSE_UP,this.position.clone())};var module$src$core$input$Mouse={};module$src$core$input$Mouse.MouseEvent=MouseEvent$$module$src$core$input$Mouse;module$src$core$input$Mouse.default=Mouse$$module$src$core$input$Mouse;var InputManager$$module$src$core$input$InputManager=function(a){this.engine=a;this.mouse=new Mouse$$module$src$core$input$Mouse(this)},module$src$core$input$InputManager={};module$src$core$input$InputManager.default=InputManager$$module$src$core$input$InputManager;var Engine$$module$src$core$Engine=function(a,b,c){this.renderer=new CanvasRenderer$$module$src$core$CanvasRenderer(this,a,b);this.scenes=new SceneManager$$module$src$core$SceneManager(this);this.time=new TimeManager$$module$src$core$TimeManager(this,c);this.assets=new AssetManager$$module$src$core$AssetManager(this);this.input=new InputManager$$module$src$core$input$InputManager(this)};Engine$$module$src$core$Engine.prototype.loop=function(){this.update(this.time.deltaTime);this.render()};
Engine$$module$src$core$Engine.prototype.update=function(a){this.scenes.update(a)};Engine$$module$src$core$Engine.prototype.render=function(){this.renderer.clear();this.scenes.render(this.renderer.context)};var module$src$core$Engine={};module$src$core$Engine.default=Engine$$module$src$core$Engine;var Scene$$module$src$core$Scene=function(a){this.engine=a;this.entities=[];this.destroyed=!1};Scene$$module$src$core$Scene.prototype.update=function(a){for(var b=0;b<this.entities.length;b++){var c=this.entities[b];c.destroyed||c.update(a);c.destroyed&&(this.entities.splice(b,1),b--)}};Scene$$module$src$core$Scene.prototype.render=function(a){this.entities.forEach(function(b){b.destroyed||b.render(a)})};
Scene$$module$src$core$Scene.prototype.destroy=function(){for(this.destroyed=!0;0<this.entities.length;)this.entities.pop().destroy();this.entities=[]};$jscomp.global.Object.defineProperties(Scene$$module$src$core$Scene.prototype,{input:{configurable:!0,enumerable:!0,get:function(){return this.engine.input}}});var module$src$core$Scene={};module$src$core$Scene.default=Scene$$module$src$core$Scene;var FileType$$module$src$core$AssetLoader=function(){};$jscomp.global.Object.defineProperties(FileType$$module$src$core$AssetLoader,{TEXTURE:{configurable:!0,enumerable:!0,get:function(){return"texture"}}});var AssetLoader$$module$src$core$AssetLoader=function(a){this.scene=a;this.totalAssets=this.assetsLoaded=0;this.maxConcurrentRequests=1;this.currentLoads=0;this.loadQueue=[]};
AssetLoader$$module$src$core$AssetLoader.prototype.load=function(a,b,c){this.totalAssets++;var d=null;switch(c){case FileType$$module$src$core$AssetLoader.TEXTURE:d=this.loadTexture.bind(this,a,b);break;default:console.error("Unknown file type")}this.currentLoads<this.maxConcurrentRequests?(this.currentLoads++,d()):this.loadQueue.push(d)};
AssetLoader$$module$src$core$AssetLoader.prototype.loadTexture=function(a,b){var c=new Image;c.crossOrigin="anonymous";var d=new XMLHttpRequest;d.open("GET",b);d.responseType="blob";d.onload=function(){if(200===d.status){var e=window.URL.createObjectURL(d.response);c.src=e;this.scene.engine.assets.textures[a]=c;this.onAssetLoaded()}else this.onAssetFailed("Image didn't load successfully; error code:"+d.statusText)}.bind(this);d.onerror=function(){this.onAssetFailed("There was a network error.")}.bind(this);
d.send()};AssetLoader$$module$src$core$AssetLoader.prototype.onAssetFailed=function(a){console.error(a);this.onAssetLoaded()};AssetLoader$$module$src$core$AssetLoader.prototype.onAssetLoaded=function(){setTimeout(function(){this.currentLoads--;this.assetsLoaded++;if(this.currentLoads<this.maxConcurrentRequests&&0<this.loadQueue.length)(0,this.loadQueue.splice(0,1)[0])()}.bind(this),75)};var module$src$core$AssetLoader={};module$src$core$AssetLoader.FileType=FileType$$module$src$core$AssetLoader;
module$src$core$AssetLoader.default=AssetLoader$$module$src$core$AssetLoader;var Entity$$module$src$core$Entity=function(a,b,c){this.scene=a;this.scene.entities.push(this);this.localPosition=new Vector2$$module$src$core$math$Vector2(b,c);this.localRotation=0;this.localScale=new Vector2$$module$src$core$math$Vector2(1,1);this.components=[];this.children=[];this.parent=null;this.destroyed=!1};
Entity$$module$src$core$Entity.prototype.getPosition=function(){for(var a=this.localPosition.clone(),b=this.parent;null!=b;){a.multiply(b.localScale);var c=a.x,d=a.y,e=Math.sin(b.localRotation*Math.PI/180),k=Math.cos(b.localRotation*Math.PI/180);a.x=k*c-e*d;a.y=e*c+k*d;a.x+=b.localPosition.x;a.y+=b.localPosition.y;b=b.parent}return a};Entity$$module$src$core$Entity.prototype.getRotation=function(){for(var a=this.localRotation,b=this.parent;null!=b;)a+=b.localRotation,b=b.parent;return a};
Entity$$module$src$core$Entity.prototype.getScale=function(){for(var a=this.localScale.clone(),b=this.parent;null!=b;)a.x*=b.localScale.x,a.y*=b.localScale.y,b=b.parent;return a};Entity$$module$src$core$Entity.prototype.addChild=function(a){-1==this.children.indexOf(a)&&(this.children.push(a),a.parent=this)};Entity$$module$src$core$Entity.prototype.removeChild=function(a){var b=this.children.indexOf(a);-1!=b&&(this.children.splice(b,1),a.parent=null)};
Entity$$module$src$core$Entity.prototype.update=function(a){for(var b=0;b<this.components.length;b++){var c=this.components[b];c.destroyed||c.update(a);c.destroyed&&(this.components.splice(b,1),b--)}};Entity$$module$src$core$Entity.prototype.render=function(a){this.components.forEach(function(b){b.destroyed||b.render(a)})};
Entity$$module$src$core$Entity.prototype.destroy=function(){this.destroyed=!0;this.children.forEach(function(a){a.destroy()});this.children=[];this.components.forEach(function(a){a.destroy()});this.components=[]};var module$src$core$Entity={};module$src$core$Entity.default=Entity$$module$src$core$Entity;var Component$$module$src$core$components$Component=function(a){this.entity=a;this.entity.components.push(this);this.events=new EventDispatcher$$module$src$core$events$EventDispatcher;this.destroyed=!1};Component$$module$src$core$components$Component.prototype.update=function(a){};Component$$module$src$core$components$Component.prototype.render=function(a){};Component$$module$src$core$components$Component.prototype.destroy=function(){this.destroyed=!0;this.entity=null};
var module$src$core$components$Component={};module$src$core$components$Component.default=Component$$module$src$core$components$Component;var Image$$module$src$core$components$Image=function(a,b){Component$$module$src$core$components$Component.call(this,a);this.key=b;this.origin=new Vector2$$module$src$core$math$Vector2(.5,.5);a=this.entity.scene.engine.assets.textures[this.key];this.width=a.width;this.height=a.height};$jscomp.inherits(Image$$module$src$core$components$Image,Component$$module$src$core$components$Component);
Image$$module$src$core$components$Image.prototype.render=function(a){a.save();var b=this.entity.getPosition(),c=this.entity.getScale(),d=b.x;b=b.y;var e=c.x;c=c.y;var k=this.entity.getRotation();a.setTransform(1,0,0,1,d,b);a.rotate(k*Math.PI/180);a.drawImage(this.entity.scene.engine.assets.textures[this.key],-this.width*e*this.origin.x,-this.height*c*this.origin.y,this.width*e,this.height*c);a.restore()};var module$src$core$components$Image={};module$src$core$components$Image.default=Image$$module$src$core$components$Image;var TextAlign$$module$src$core$components$TextField=function(){};$jscomp.global.Object.defineProperties(TextAlign$$module$src$core$components$TextField,{LEFT:{configurable:!0,enumerable:!0,get:function(){return"left"}},RIGHT:{configurable:!0,enumerable:!0,get:function(){return"right"}},CENTER:{configurable:!0,enumerable:!0,get:function(){return"center"}},START:{configurable:!0,enumerable:!0,get:function(){return"start"}},END:{configurable:!0,enumerable:!0,get:function(){return"end"}}});
var TextFieldConfig$$module$src$core$components$TextField=function(a,b,c,d,e){d=void 0===d?TextAlign$$module$src$core$components$TextField.LEFT:d;this.font=void 0===a?"Arial":a;this.size=void 0===b?"12px":b;this.color=void 0===c?"#000000":c;this.align=d;this.maxWidth=void 0===e?null:e},TextField$$module$src$core$components$TextField=function(a,b,c){c=void 0===c?null:c;Component$$module$src$core$components$Component.call(this,a);this.text=b;this.config=null;this.config=null==c?new TextFieldConfig$$module$src$core$components$TextField:
c};$jscomp.inherits(TextField$$module$src$core$components$TextField,Component$$module$src$core$components$Component);
TextField$$module$src$core$components$TextField.prototype.render=function(a){a.save();var b=this.entity.getPosition();this.entity.getScale();var c=b.x;b=b.y;var d=this.entity.getRotation();a.setTransform(1,0,0,1,c,b);a.rotate(d*Math.PI/180);a.font=this.config.size+" "+this.config.font;a.textAlign=this.config.align;a.fillStyle=this.config.color;null!=this.config.maxWidth?a.fillText(this.text,0,0,this.config.maxWidth):a.fillText(this.text,0,0);a.restore()};var module$src$core$components$TextField={};
module$src$core$components$TextField.TextAlign=TextAlign$$module$src$core$components$TextField;module$src$core$components$TextField.TextFieldConfig=TextFieldConfig$$module$src$core$components$TextField;module$src$core$components$TextField.default=TextField$$module$src$core$components$TextField;var Button$$module$src$core$components$Button=function(a,b,c,d,e){e=void 0===e?null:e;Component$$module$src$core$components$Component.call(this,a);this.onClickCallback=d;this.onClickCallbackContext=e;this.width=b;this.height=c;this.origin=new Vector2$$module$src$core$math$Vector2(.5,.5);this.entity.scene.input.mouse.events.addEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.onMouseDown,this)};$jscomp.inherits(Button$$module$src$core$components$Button,Component$$module$src$core$components$Component);
Button$$module$src$core$components$Button.prototype.onMouseDown=function(a){var b=this.entity.getPosition(),c=this.entity.getScale();this.entity.getRotation();var d=b.x+this.width*c.x*(1-this.origin.x),e=b.y-this.height*c.y*this.origin.y,k=b.y+this.height*c.y*(1-this.origin.y);a.x>=b.x-this.width*c.x*this.origin.x&&a.x<=d&&a.y>=e&&a.y<=k&&null!=this.onClickCallback&&this.onClickCallback.bind(this.onClickCallbackContext)()};
Button$$module$src$core$components$Button.prototype.destroy=function(){this.entity.scene.input.mouse.events.removeEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.onMouseDown,this);Component$$module$src$core$components$Component.prototype.destroy.call(this)};var module$src$core$components$Button={};module$src$core$components$Button.default=Button$$module$src$core$components$Button;var HoverButton$$module$src$breakout$component$HoverButton=function(a,b,c,d,e,k){Button$$module$src$core$components$Button.call(this,a,b,c,d,void 0===k?null:k);this.hoverImageKey=e;this.origin=new Vector2$$module$src$core$math$Vector2(.5,.5);this.width=this.width;this.height=this.height;this.hover=!1;this.entity.scene.input.mouse.events.addEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_MOVE,this.mouseMove,this)};
$jscomp.inherits(HoverButton$$module$src$breakout$component$HoverButton,Button$$module$src$core$components$Button);HoverButton$$module$src$breakout$component$HoverButton.prototype.hoverCheck=function(a){var b=this.entity.getPosition(),c=this.entity.getScale();this.entity.getRotation();var d=b.x+this.width*c.x*(1-this.origin.x),e=b.y-this.height*c.y*this.origin.y,k=b.y+this.height*c.y*(1-this.origin.y);this.hover=a.x>=b.x-this.width*c.x*this.origin.x&&a.x<=d&&a.y>=e&&a.y<=k};
HoverButton$$module$src$breakout$component$HoverButton.prototype.mouseMove=function(a){this.hoverCheck.bind(this)(a)};
HoverButton$$module$src$breakout$component$HoverButton.prototype.render=function(a){if(this.hover){a.save();var b=this.entity.getPosition(),c=this.entity.getScale(),d=b.x;b=b.y;var e=c.x;c=c.y;var k=this.entity.getRotation();a.setTransform(1,0,0,1,d,b);a.rotate(k*Math.PI/180);a.drawImage(this.entity.scene.engine.assets.textures[this.hoverImageKey],-this.width*e*this.origin.x,-this.height*c*this.origin.y,this.width*e,this.height*c);a.restore()}};
HoverButton$$module$src$breakout$component$HoverButton.prototype.destroy=function(){console.log("Destroy");this.entity.scene.input.mouse.events.removeEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_MOVE,this.mouseMove,this);this.entity.scene.input.mouse.events.removeEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.onMouseDown,this);Button$$module$src$core$components$Button.prototype.destroy.call(this)};var module$src$breakout$component$HoverButton={};
module$src$breakout$component$HoverButton.default=HoverButton$$module$src$breakout$component$HoverButton;var LifeDisplay$$module$src$breakout$component$LifeDisplay=function(a,b,c,d){Image$$module$src$core$components$Image.call(this,a,b);this.keyFull=b;this.keyEmpty=c;this.threshold=d};$jscomp.inherits(LifeDisplay$$module$src$breakout$component$LifeDisplay,Image$$module$src$core$components$Image);LifeDisplay$$module$src$breakout$component$LifeDisplay.prototype.update=function(a){this.key=this.entity.scene.lives<this.threshold?this.keyEmpty:this.keyFull};var module$src$breakout$component$LifeDisplay={};
module$src$breakout$component$LifeDisplay.default=LifeDisplay$$module$src$breakout$component$LifeDisplay;var Scoreboard$$module$src$breakout$component$Scoreboard=function(a,b){TextField$$module$src$core$components$TextField.call(this,a,"Score: \t0",void 0===b?null:b)};$jscomp.inherits(Scoreboard$$module$src$breakout$component$Scoreboard,TextField$$module$src$core$components$TextField);Scoreboard$$module$src$breakout$component$Scoreboard.prototype.update=function(a){this.text="Score: \t"+this.entity.scene.score};var module$src$breakout$component$Scoreboard={};
module$src$breakout$component$Scoreboard.default=Scoreboard$$module$src$breakout$component$Scoreboard;var PaddleController$$module$src$breakout$component$PaddleControler=function(a,b){Component$$module$src$core$components$Component.call(this,a);this.width=b;this.entity.scene.input.mouse.events.addEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_MOVE,this.onMouseMoved,this)};$jscomp.inherits(PaddleController$$module$src$breakout$component$PaddleControler,Component$$module$src$core$components$Component);
PaddleController$$module$src$breakout$component$PaddleControler.prototype.movePaddle=function(a){this.entity.localPosition.x=a.x};PaddleController$$module$src$breakout$component$PaddleControler.prototype.onMouseMoved=function(a){this.movePaddle.bind(this)(a)};PaddleController$$module$src$breakout$component$PaddleControler.prototype.destroy=function(){this.entity.scene.input.mouse.events.removeEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_MOVE,this.onMouseMoved,this)};
var module$src$breakout$component$PaddleControler={};module$src$breakout$component$PaddleControler.default=PaddleController$$module$src$breakout$component$PaddleControler;var Rectangle$$module$src$breakout$component$Rectangle=function(a,b,c){Component$$module$src$core$components$Component.call(this,a,b,c);this.width=b;this.height=c;this.origin=new Vector2$$module$src$core$math$Vector2(.5,.5)};$jscomp.inherits(Rectangle$$module$src$breakout$component$Rectangle,Component$$module$src$core$components$Component);
Rectangle$$module$src$breakout$component$Rectangle.prototype.containsPoint=function(a){var b=this.entity.getPosition(),c=this.entity.getScale();this.entity.getRotation();var d=b.x+this.width*c.x*(1-this.origin.x),e=b.y-this.height*c.y*this.origin.y,k=b.y+this.height*c.y*(1-this.origin.y);return a.x>=b.x-this.width*c.x*this.origin.x&&a.x<=d&&a.y>=e&&a.y<=k};var module$src$breakout$component$Rectangle={};module$src$breakout$component$Rectangle.default=Rectangle$$module$src$breakout$component$Rectangle;var BallController$$module$src$breakout$component$BallController=function(a,b,c,d){Component$$module$src$core$components$Component.call(this,a);this.radius=b;this.bricks=c;this.paddle=d;this.speed=300;this.rebrickTimer=this.vy=this.vx=0;this.paddle.addChild(this.entity);this.entity.scene.input.mouse.events.addEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.onMouseDown,this)};$jscomp.inherits(BallController$$module$src$breakout$component$BallController,Component$$module$src$core$components$Component);
BallController$$module$src$breakout$component$BallController.prototype.update=function(a){console.log(this.vy);2==this.entity.scene.engine.scenes.scenes.length?console.log(this.entity.scene.engine.scenes.scenes.length):(this.entity.parent!=this.paddle&&this.move(a),0==this.bricks.length&&(this.rebrickTimer+=a,2<=this.rebrickTimer&&(this.speed*=1.3,this.vx*=1.3,this.vy*=1.3,this.entity.scene.rebrick(this.bricks),this.rebrickTimer=0)))};
BallController$$module$src$breakout$component$BallController.prototype.onMouseDown=function(a){this.launch.bind(this)(a)};BallController$$module$src$breakout$component$BallController.prototype.launch=function(a){this.entity.parent==this.paddle&&(this.paddle.removeChild(this.entity),this.entity.localPosition.x+=this.paddle.getPosition().x,this.entity.localPosition.y+=this.paddle.getPosition().y,this.vy=-this.speed)};
BallController$$module$src$breakout$component$BallController.prototype.move=function(a){var b=this,c=this.entity.getPosition();c.x+=this.vx*a;c.y+=this.vy*a;1024<c.x?(this.vx*=-1,c.x=1024-Math.abs(c.x-1024)):0>c.x&&(this.vx*=-1,c.x=Math.abs(c.x));if(0>c.y)this.vy*=-1,c.y=Math.abs(c.y);else if(c.y>576-this.radius){this.respawn();return}this.bricks.forEach(function(e){if(e.components[1].containsPoint(c)){var k=b.entity.getPosition(),m=e.getPosition();k.x-=m.x;k.y-=m.y;m=k.length;k.x=k.x*b.speed/m;k.y=
k.y*b.speed/m;b.vx=k.x;b.vy=k.y;b.entity.scene.breakBrick(b.bricks,e)}});if(this.paddle.components[2].containsPoint(c)){a=this.entity.getPosition();var d=this.paddle.getPosition();a.x-=d.x;a.y-=d.y;console.log(a.x);d=a.length;a.x=a.x*this.speed/d;a.y=a.y*this.speed/d;this.vx=a.x;this.vy=a.y}this.entity.localPosition=c};
BallController$$module$src$breakout$component$BallController.prototype.respawn=function(){this.vy=this.vx=0;this.entity.localPosition=new Vector2$$module$src$core$math$Vector2(0,2*-this.radius);this.paddle.addChild(this.entity);--this.entity.scene.lives};BallController$$module$src$breakout$component$BallController.prototype.destroy=function(){this.entity.scene.input.mouse.events.removeEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.onMouseDown,this)};
var module$src$breakout$component$BallController={};module$src$breakout$component$BallController.default=BallController$$module$src$breakout$component$BallController;var PauseScene$$module$src$breakout$scenes$PauseScene=function(a){Scene$$module$src$core$Scene.call(this,a);a=new Entity$$module$src$core$Entity(this,512,288);new Image$$module$src$core$components$Image(a,"overlay");a=new Entity$$module$src$core$Entity(this,512,288);new Image$$module$src$core$components$Image(a,"pauseBackground");a=new Entity$$module$src$core$Entity(this,512,188);new TextField$$module$src$core$components$TextField(a,"PAUSED",new TextFieldConfig$$module$src$core$components$TextField("Arial",
"62px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a=new Entity$$module$src$core$Entity(this,512,208);new Image$$module$src$core$components$Image(a,"pauseLine");a=new Entity$$module$src$core$Entity(this,512,268);new Image$$module$src$core$components$Image(a,"btnPink");new HoverButton$$module$src$breakout$component$HoverButton(a,259,56,this.resume,"btnPinkHover",this);var b=new Entity$$module$src$core$Entity(this,0,15);new TextField$$module$src$core$components$TextField(b,"Resume",
new TextFieldConfig$$module$src$core$components$TextField("Arial","42px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a.addChild(b);a=new Entity$$module$src$core$Entity(this,512,348);new Image$$module$src$core$components$Image(a,"btnPink");new HoverButton$$module$src$breakout$component$HoverButton(a,259,56,this.quit,"btnPinkHover",this);b=new Entity$$module$src$core$Entity(this,0,15);new TextField$$module$src$core$components$TextField(b,"Quit",new TextFieldConfig$$module$src$core$components$TextField("Arial",
"42px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a.addChild(b)};$jscomp.inherits(PauseScene$$module$src$breakout$scenes$PauseScene,Scene$$module$src$core$Scene);PauseScene$$module$src$breakout$scenes$PauseScene.prototype.resume=function(){this.engine.scenes.remove(this)};PauseScene$$module$src$breakout$scenes$PauseScene.prototype.quit=function(){this.engine.scenes.remove(this);this.engine.scenes.remove(this.engine.scenes.scenes[0]);this.engine.scenes.add(new SplashScene$$module$src$breakout$scenes$SplashScene(this.engine))};
var module$src$breakout$scenes$PauseScene={};module$src$breakout$scenes$PauseScene.default=PauseScene$$module$src$breakout$scenes$PauseScene;var GameOverScene$$module$src$breakout$scenes$GameOverScene=function(a){Scene$$module$src$core$Scene.call(this,a);a=new Entity$$module$src$core$Entity(this,512,288);new Image$$module$src$core$components$Image(a,"overlay");a=new Entity$$module$src$core$Entity(this,512,288);new Image$$module$src$core$components$Image(a,"gameOverBackground");a=new Entity$$module$src$core$Entity(this,512,188);new TextField$$module$src$core$components$TextField(a,"PAUSED",new TextFieldConfig$$module$src$core$components$TextField("Arial",
"62px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a=new Entity$$module$src$core$Entity(this,512,208);new Image$$module$src$core$components$Image(a,"pauseLine");a=new Entity$$module$src$core$Entity(this,512,268);new Image$$module$src$core$components$Image(a,"btnPink");new HoverButton$$module$src$breakout$component$HoverButton(a,259,56,this.resume,"btnPinkHover",this);var b=new Entity$$module$src$core$Entity(this,0,15);new TextField$$module$src$core$components$TextField(b,"Resume",
new TextFieldConfig$$module$src$core$components$TextField("Arial","42px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a.addChild(b);a=new Entity$$module$src$core$Entity(this,512,348);new Image$$module$src$core$components$Image(a,"btnPink");new HoverButton$$module$src$breakout$component$HoverButton(a,259,56,this.quit,"btnPinkHover",this);b=new Entity$$module$src$core$Entity(this,0,15);new TextField$$module$src$core$components$TextField(b,"Quit",new TextFieldConfig$$module$src$core$components$TextField("Arial",
"42px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a.addChild(b)};$jscomp.inherits(GameOverScene$$module$src$breakout$scenes$GameOverScene,Scene$$module$src$core$Scene);GameOverScene$$module$src$breakout$scenes$GameOverScene.prototype.resume=function(){this.engine.scenes.remove(this)};GameOverScene$$module$src$breakout$scenes$GameOverScene.prototype.quit=function(){this.engine.scenes.remove(this);this.engine.scenes.remove(this.engine.scenes.scenes[0]);this.engine.scenes.add(new SplashScene$$module$src$breakout$scenes$SplashScene(this.engine))};
var module$src$breakout$scenes$GameOverScene={};module$src$breakout$scenes$GameOverScene.default=GameOverScene$$module$src$breakout$scenes$GameOverScene;var GameScene$$module$src$breakout$scenes$GameScene=function(a){Scene$$module$src$core$Scene.call(this,a);a=new Entity$$module$src$core$Entity(this,512,288);new Image$$module$src$core$components$Image(a,"gameplayBackground");a=new Entity$$module$src$core$Entity(this,512,528);new Image$$module$src$core$components$Image(a,"paddle");new PaddleController$$module$src$breakout$component$PaddleControler(a,150);new Rectangle$$module$src$breakout$component$Rectangle(a,150,18);var b=new Entity$$module$src$core$Entity(this,
60,60);new Image$$module$src$core$components$Image(b,"btnPause");new HoverButton$$module$src$breakout$component$HoverButton(b,56,56,this.pause,"btnPauseHover",this);this.score=0;b=new Entity$$module$src$core$Entity(this,512,60);new Scoreboard$$module$src$breakout$component$Scoreboard(b,new TextFieldConfig$$module$src$core$components$TextField("Arial","42px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));b=new Entity$$module$src$core$Entity(this,512,75);new Image$$module$src$core$components$Image(b,
"splashLine");b=new Entity$$module$src$core$Entity(this,482,100);new TextField$$module$src$core$components$TextField(b,"High Score: \t",new TextFieldConfig$$module$src$core$components$TextField("Arial","20px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));b=new Entity$$module$src$core$Entity(this,964,60);new TextField$$module$src$core$components$TextField(b,"Lives: \t",new TextFieldConfig$$module$src$core$components$TextField("Arial","14px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));
this.lives=3;var c=new Entity$$module$src$core$Entity(this,15,10);b.addChild(c);new LifeDisplay$$module$src$breakout$component$LifeDisplay(c,"lifeFull","lifeEmpty",3);c=new Entity$$module$src$core$Entity(this,0,10);b.addChild(c);new LifeDisplay$$module$src$breakout$component$LifeDisplay(c,"lifeFull","lifeEmpty",2);c=new Entity$$module$src$core$Entity(this,-15,10);b.addChild(c);new LifeDisplay$$module$src$breakout$component$LifeDisplay(c,"lifeFull","lifeEmpty",1);b=[];for(c=0;6>c;c++){var d=new Entity$$module$src$core$Entity(this,
149+140*c,135);new Image$$module$src$core$components$Image(d,"enemyBrick");new Rectangle$$module$src$breakout$component$Rectangle(d,132,27);b.push(d)}for(c=0;6>c;c++)d=new Entity$$module$src$core$Entity(this,149+140*c,185),new Image$$module$src$core$components$Image(d,"enemyBrick"),new Rectangle$$module$src$breakout$component$Rectangle(d,132,27),b.push(d);for(c=0;6>c;c++)d=new Entity$$module$src$core$Entity(this,149+140*c,235),new Image$$module$src$core$components$Image(d,"enemyBrick"),new Rectangle$$module$src$breakout$component$Rectangle(d,
132,27),b.push(d);for(c=0;5>c;c++)d=new Entity$$module$src$core$Entity(this,206+140*c,285),new Image$$module$src$core$components$Image(d,"enemyBrick"),new Rectangle$$module$src$breakout$component$Rectangle(d,132,27),b.push(d);c=new Entity$$module$src$core$Entity(this,0,-30);new Image$$module$src$core$components$Image(c,"ball");new BallController$$module$src$breakout$component$BallController(c,15,b,a)};$jscomp.inherits(GameScene$$module$src$breakout$scenes$GameScene,Scene$$module$src$core$Scene);
GameScene$$module$src$breakout$scenes$GameScene.prototype.update=function(a){Scene$$module$src$core$Scene.prototype.update.call(this,a);0==this.lives&&1==this.engine.scenes.scenes.length&&this.engine.scenes.add(new GameOverScene$$module$src$breakout$scenes$GameOverScene(this.engine))};GameScene$$module$src$breakout$scenes$GameScene.prototype.breakBrick=function(a,b){var c=a.indexOf(b);a.splice(c,1);b.localPosition.x=-100;this.score++};
GameScene$$module$src$breakout$scenes$GameScene.prototype.rebrick=function(a){for(var b=0;6>b;b++){var c=new Entity$$module$src$core$Entity(this,149+140*b,135);new Image$$module$src$core$components$Image(c,"enemyBrick");new Rectangle$$module$src$breakout$component$Rectangle(c,132,27);a.push(c)}for(b=0;6>b;b++)c=new Entity$$module$src$core$Entity(this,149+140*b,185),new Image$$module$src$core$components$Image(c,"enemyBrick"),new Rectangle$$module$src$breakout$component$Rectangle(c,132,27),a.push(c);
for(b=0;6>b;b++)c=new Entity$$module$src$core$Entity(this,149+140*b,235),new Image$$module$src$core$components$Image(c,"enemyBrick"),new Rectangle$$module$src$breakout$component$Rectangle(c,132,27),a.push(c);for(b=0;5>b;b++)c=new Entity$$module$src$core$Entity(this,206+140*b,285),new Image$$module$src$core$components$Image(c,"enemyBrick"),new Rectangle$$module$src$breakout$component$Rectangle(c,132,27),a.push(c)};
GameScene$$module$src$breakout$scenes$GameScene.prototype.pause=function(){1==this.engine.scenes.scenes.length&&this.engine.scenes.add(new PauseScene$$module$src$breakout$scenes$PauseScene(this.engine))};var module$src$breakout$scenes$GameScene={};module$src$breakout$scenes$GameScene.default=GameScene$$module$src$breakout$scenes$GameScene;var SplashScene$$module$src$breakout$scenes$SplashScene=function(a){Scene$$module$src$core$Scene.call(this,a);a=new Entity$$module$src$core$Entity(this,512,288);new Image$$module$src$core$components$Image(a,"splashBackground");a=new Entity$$module$src$core$Entity(this,512,128);new Image$$module$src$core$components$Image(a,"gameTitle");a=new Entity$$module$src$core$Entity(this,512,178);new Image$$module$src$core$components$Image(a,"splashLine");a=new Entity$$module$src$core$Entity(this,482,208);new TextField$$module$src$core$components$TextField(a,
"High Score: \t",new TextFieldConfig$$module$src$core$components$TextField("Arial","14px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a=new Entity$$module$src$core$Entity(this,512,448);new Image$$module$src$core$components$Image(a,"btnPurple");new HoverButton$$module$src$breakout$component$HoverButton(a,259,56,this.play,"btnPurpleHover",this);var b=new Entity$$module$src$core$Entity(this,0,15);a.addChild(b);new TextField$$module$src$core$components$TextField(b,"Play",new TextFieldConfig$$module$src$core$components$TextField("Arial",
"42px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));b=new Entity$$module$src$core$Entity(this,-100,0);a.addChild(b);new Image$$module$src$core$components$Image(b,"playIcon")};$jscomp.inherits(SplashScene$$module$src$breakout$scenes$SplashScene,Scene$$module$src$core$Scene);SplashScene$$module$src$breakout$scenes$SplashScene.prototype.play=function(a){this.engine.scenes.remove(this);this.engine.scenes.add(new GameScene$$module$src$breakout$scenes$GameScene(this.engine))};
SplashScene$$module$src$breakout$scenes$SplashScene.prototype.update=function(a){Scene$$module$src$core$Scene.prototype.update.call(this,a)};var module$src$breakout$scenes$SplashScene={};module$src$breakout$scenes$SplashScene.default=SplashScene$$module$src$breakout$scenes$SplashScene;var LoadingScene$$module$src$breakout$scenes$LoadingScene=function(a){Scene$$module$src$core$Scene.call(this,a);this.loader=new AssetLoader$$module$src$core$AssetLoader(this);this.loader.load("ball","./assets/images/breakout-ball.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("btnPauseHover","./assets/images/breakout-btn-pause-hover.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("btnPause","./assets/images/breakout-btn-pause.png",FileType$$module$src$core$AssetLoader.TEXTURE);
this.loader.load("btnPinkHover","./assets/images/breakout-btn-pink-hover.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("btnPink","./assets/images/breakout-btn-pink.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("btnPurpleHover","./assets/images/breakout-btn-purple-hover.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("btnPurple","./assets/images/breakout-btn-purple.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("enemyBrick",
"./assets/images/breakout-enemy-brick.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("gameOverBackground","./assets/images/breakout-game-over-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("gameOverLine","./assets/images/breakout-game-over-dashed-line.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("gameTitle","./assets/images/breakout-game-title.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("gameplayBackground",
"./assets/images/breakout-gameplay-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("hudScoreLine","./assets/images/breakout-hud-score-dashed-line.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("lifeEmpty","./assets/images/breakout-life-empty.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("lifeFull","./assets/images/breakout-life-full.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("overlay","./assets/images/breakout-overlay.png",
FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("pauseBackground","./assets/images/breakout-pause-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("pauseLine","./assets/images/breakout-pause-dashed-line.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("playIcon","./assets/images/breakout-play-icon.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("paddle","./assets/images/breakout-player-paddle.png",FileType$$module$src$core$AssetLoader.TEXTURE);
this.loader.load("splashLine","./assets/images/breakout-splash-dashed-line.png",FileType$$module$src$core$AssetLoader.TEXTURE);a=new Entity$$module$src$core$Entity(this,512,288);new Image$$module$src$core$components$Image(a,"splashBackground");a=new Entity$$module$src$core$Entity(this,472,228);new TextField$$module$src$core$components$TextField(a,"Loading...",new TextFieldConfig$$module$src$core$components$TextField("Arial","20px","#FFFFFF",TextAlign$$module$src$core$components$TextField.LEFT));a=
new Entity$$module$src$core$Entity(this,512,268);new Image$$module$src$core$components$Image(a,"loadingBarBackground");a=new Entity$$module$src$core$Entity(this,351,268);new Image$$module$src$core$components$Image(a,"loadingBarFill")};$jscomp.inherits(LoadingScene$$module$src$breakout$scenes$LoadingScene,Scene$$module$src$core$Scene);
LoadingScene$$module$src$breakout$scenes$LoadingScene.prototype.updateLoadingBar=function(a){console.log(a);this.entities[3].localPosition=new Vector2$$module$src$core$math$Vector2(512-161*(1-a),268);this.entities[3].localScale=new Vector2$$module$src$core$math$Vector2(a,1)};
LoadingScene$$module$src$breakout$scenes$LoadingScene.prototype.update=function(a){Scene$$module$src$core$Scene.prototype.update.call(this,a);0!=this.loader.totalAssets&&this.updateLoadingBar(1*this.loader.assetsLoaded/this.loader.totalAssets);this.loader.assetsLoaded==this.loader.totalAssets&&(this.engine.scenes.remove(this),this.engine.scenes.add(new SplashScene$$module$src$breakout$scenes$SplashScene(this.engine)))};var module$src$breakout$scenes$LoadingScene={};
module$src$breakout$scenes$LoadingScene.default=LoadingScene$$module$src$breakout$scenes$LoadingScene;var BootScene$$module$src$breakout$scenes$BootScene=function(a){Scene$$module$src$core$Scene.call(this,a);this.loader=new AssetLoader$$module$src$core$AssetLoader(this);this.loader.load("splashBackground","./assets/images/breakout-splash-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("loadingBarBackground","./assets/images/breakout-loading-bar-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("loadingBarFill","./assets/images/breakout-loading-bar-fill.png",
FileType$$module$src$core$AssetLoader.TEXTURE)};$jscomp.inherits(BootScene$$module$src$breakout$scenes$BootScene,Scene$$module$src$core$Scene);BootScene$$module$src$breakout$scenes$BootScene.prototype.update=function(a){Scene$$module$src$core$Scene.prototype.update.call(this,a);this.loader.assetsLoaded==this.loader.totalAssets&&(this.engine.scenes.remove(this),this.engine.scenes.add(new LoadingScene$$module$src$breakout$scenes$LoadingScene(this.engine)))};
var module$src$breakout$scenes$BootScene={};module$src$breakout$scenes$BootScene.default=BootScene$$module$src$breakout$scenes$BootScene;var Breakout$$module$src$breakout$Breakout=function(a,b,c){Engine$$module$src$core$Engine.call(this,a,b,c);this.scenes.add(new BootScene$$module$src$breakout$scenes$BootScene(this))};$jscomp.inherits(Breakout$$module$src$breakout$Breakout,Engine$$module$src$core$Engine);var module$src$breakout$Breakout={};module$src$breakout$Breakout.default=Breakout$$module$src$breakout$Breakout;window.addEventListener("DOMContentLoaded",function(a){window.engine=new Breakout$$module$src$breakout$Breakout(1024,576,60)});var module$src$index={};
